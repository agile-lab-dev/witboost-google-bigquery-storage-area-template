# Google BigQuery Srorage Area Template

This documentation describes the details and parameters required to create a Google BigQuery Storage Area within the Witboost platform.

### Prerequisites

A System should already exist in order to attach the new components to it.

### Creation Wizard

The Creation Wizard allows you to create a new BigQuery Storage Area.

#### Component metadata

This section covers the basic information that any component must have.

- Name: Required. The name of the component.
- Description: Required. Help others understand what this component is for. What data will it store?
- Domain: Required. The Domain of the System this Storage Area belongs to. Be sure to choose it correctly as it is a fundamental part of the Storage Area and cannot be changed afterwards.
- Parent: Required. The System this Storage Area belongs to. Be sure to choose the right one as it cannot be changed.
- Identifier: Autogenerated from the information above. A unique identifier for the component. It will not be editable after creation and is a string composed of [a-zA-Z] separated by any of [-_].
- Owner: Automatically selected from the System metadata. System owner.
- Depends On: A component could depend on other components in the same System. This information will be used to deploy the components in such an order that their dependencies already exist.
- Tags: Tags for the component.

*Example:*

| Field name              | Example value                                                                                                                                                             
|:------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Name**                | BigQuery Vaccinations Storage                                                                                                                                                  |
| **Description**         | Contains data on COVID-19 Vaccinations                                                                                                                                         |
| **Domain**              | domain:healthcare                                                                                                                                                              |
| **Parent**              | system:healthcare.vaccinationsdp.0                                                                                                                                             |
| ***Identifier***        | Will look something like this: *healtchare.vaccinationsdp.0.bigquery-vaccinations-storage*. Depends on the name you gave to the component and the System it belongs to.        |
| ***Owner***             | Will look something like this: *group:datameshplatform*. Depends on the System owner.                                                                                          |
| ***Depends On***        |                                                                                                                                                                                |
| ***Tags***              |                                                                                                                                                                                |

#### BigQuery deployment Information

This section covers specific information related to where the Storage Area is located on BigQuery.

- **Project ID**: Google BigQuery project ID where the target dataset is located
- **Dataset**: Dataset name containing the source table and where the table will be created. If not provided a value will be autogenerated like `<domainName>_<parentName>_v<parentMajorVersion>_<environment>`. (Optional)
- **Table name**: Name of the source table name the table will be targeting.

*Example:*

| Field name       | Example value           |
|:-----------------|:------------------------|
| **Project ID**   | vaccinationsdp          |
| **Dataset**      | HEALTHCARE              |
| **Table Name**   | vaccinations_clean      |

#### Table schema

This section defines the schema of the data that will be exposed through the Google BigQuery table.

- **Column Definitions**: Defines the schema for the Google BigQuery view, including column names, descriptions, and data types.

*Example:*

| **Column Name** | **Description**     | **Data Type** | 
|-----------------|---------------------|---------------|
| id              | Unique identifier   | INT           | 
| name            | Name of the entity  | STRING        | 
| created_at      | Creation timestamp  | TIMESTAMP     |
| internal_value  | Value of the record | NUMERIC       |

Some data types might require more fields to be filled out.

#### Creation

After this step, the system will show you the summary of the information provided. You can go back and edit them if you notice any mistake, otherwise you can go ahead and create the component.

After clicking on **"Create"**, the component registration will start. If no errors occur, it will go through the 3 phases (Fetching, Publishing and Registering) and it will show you the links to the newly created repository inside GitLab and the new System component in the Builder Catalog.

When deploying the System, deployment of this component will create the BigQuery table inside the specified dataset and schema.

**Be careful not to delete the `catalog-info.yml` and ensure that the project structure remains as given.**

### Edit Wizard

The Edit Wizard allows you to edit most information about the component after you have created it. The sections are the same as the Creation Wizard, so you can refer to the documentation above, but some fields will be locked as they cannot be changed after creation.